# ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆæ›¸

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0  
**ä½œæˆæ—¥**: 2025å¹´11æœˆ12æ—¥  
**å¯¾è±¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: ãƒãƒ¼ãƒ‰ãƒœã‚¤ãƒ«ãƒ‰åˆ‘äº‹é¢¨ã‚²ãƒ¼ãƒ 

---

## ğŸ“‹ ç›®æ¬¡

1. [ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆæ–¹é‡](#ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆæ–¹é‡)
2. [ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ„ãƒªãƒ¼æ§‹é€ ](#ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ„ãƒªãƒ¼æ§‹é€ )
3. [ç”»é¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](#ç”»é¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)
4. [ã‚²ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](#ã‚²ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)
5. [UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](#uiã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)
6. [å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](#å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)
7. [ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³](#ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³)

---

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆæ–¹é‡

### åŸºæœ¬åŸå‰‡

1. **å˜ä¸€è²¬ä»»ã®åŸå‰‡**
   - å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯1ã¤ã®æ˜ç¢ºãªè²¬å‹™ã‚’æŒã¤
   - è¤‡é›‘ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å°ã•ãåˆ†å‰²

2. **Props Down, Events Up**
   - ãƒ‡ãƒ¼ã‚¿ã¯è¦ªã‹ã‚‰å­ã¸Propsã§æ¸¡ã™
   - ã‚¤ãƒ™ãƒ³ãƒˆã¯å­ã‹ã‚‰è¦ªã¸ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§é€šçŸ¥

3. **çŠ¶æ…‹ç®¡ç†ã®åˆ†é›¢**
   - ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ã¯Zustandã§ç®¡ç†
   - ãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹ã¯useStateã§ç®¡ç†
   - çŠ¶æ…‹ãƒ­ã‚¸ãƒƒã‚¯ã¯ã‚«ã‚¹ã‚¿ãƒ Hooksã§åˆ†é›¢

4. **å†åˆ©ç”¨æ€§ã®è¿½æ±‚**
   - æ±ç”¨çš„ãªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å…±é€šåŒ–
   - ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¯åˆ†é›¢

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†é¡

| åˆ†é¡ | èª¬æ˜ | ä¾‹ |
|------|------|-----|
| **Screen** | ç”»é¢å…¨ä½“ã‚’è¡¨ç¾ | TitleScreen, BattleScreen |
| **Feature** | æ©Ÿèƒ½å˜ä½ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | BattleField, UnitPlacement |
| **UI** | å†åˆ©ç”¨å¯èƒ½ãªUIãƒ‘ãƒ¼ãƒ„ | Button, Modal, ProgressBar |
| **Layout** | ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç”¨ | Container, Grid |

---

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ„ãƒªãƒ¼æ§‹é€ 

```
App
â”œâ”€â”€ Router
â”‚   â”œâ”€â”€ TitleScreen
â”‚   â”‚   â””â”€â”€ CharacterSelectModal
â”‚   â”‚
â”‚   â”œâ”€â”€ EnemySelectScreen
â”‚   â”‚   â”œâ”€â”€ EnemyCard (Ã—4)
â”‚   â”‚   â””â”€â”€ ProgressIndicator
â”‚   â”‚
â”‚   â”œâ”€â”€ ShopScreen
â”‚   â”‚   â”œâ”€â”€ UnitShopList
â”‚   â”‚   â”‚   â””â”€â”€ UnitShopItem (Ã—N)
â”‚   â”‚   â””â”€â”€ ShopCart
â”‚   â”‚
â”‚   â”œâ”€â”€ LevelUpScreen
â”‚   â”‚   â”œâ”€â”€ StatCard (Ã—5)
â”‚   â”‚   â””â”€â”€ LevelUpButton
â”‚   â”‚
â”‚   â”œâ”€â”€ PlacementScreen
â”‚   â”‚   â”œâ”€â”€ PlacementField
â”‚   â”‚   â”‚   â”œâ”€â”€ PlacementGrid
â”‚   â”‚   â”‚   â””â”€â”€ PlacedUnitPreview
â”‚   â”‚   â”œâ”€â”€ UnitInventory
â”‚   â”‚   â”‚   â””â”€â”€ InventoryItem (Ã—N)
â”‚   â”‚   â””â”€â”€ PlacementControls
â”‚   â”‚
â”‚   â”œâ”€â”€ BattleScreen
â”‚   â”‚   â”œâ”€â”€ BattleField
â”‚   â”‚   â”‚   â”œâ”€â”€ PlayerField
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FieldGrid
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Cell (Ã—N)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PlacedUnitsDisplay
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ EnemyField
â”‚   â”‚   â”‚       â”œâ”€â”€ FieldGrid
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ Cell (Ã—N)
â”‚   â”‚   â”‚       â””â”€â”€ AttackHistoryDisplay
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ StatusBar
â”‚   â”‚   â”‚   â”œâ”€â”€ PlayerStatus
â”‚   â”‚   â”‚   â””â”€â”€ EnemyStatus
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ActionBar
â”‚   â”‚   â”‚   â”œâ”€â”€ AttackButton
â”‚   â”‚   â”‚   â”œâ”€â”€ SpecialAttackMenu
â”‚   â”‚   â”‚   â”œâ”€â”€ HealButton
â”‚   â”‚   â”‚   â””â”€â”€ MenuButton
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ BattleEffects
â”‚   â”‚       â”œâ”€â”€ HitEffect
â”‚   â”‚       â”œâ”€â”€ MissEffect
â”‚   â”‚       â””â”€â”€ DestroyEffect
â”‚   â”‚
â”‚   â”œâ”€â”€ ResultScreen
â”‚   â”‚   â”œâ”€â”€ VictoryDisplay
â”‚   â”‚   â”œâ”€â”€ DefeatDisplay
â”‚   â”‚   â”œâ”€â”€ RewardSummary
â”‚   â”‚   â””â”€â”€ NextActionButtons
â”‚   â”‚
â”‚   â””â”€â”€ MenuScreen
â”‚       â”œâ”€â”€ SaveButton
â”‚       â”œâ”€â”€ LoadButton
â”‚       â””â”€â”€ SettingsPanel
â”‚
â””â”€â”€ GlobalComponents
    â”œâ”€â”€ LoadingSpinner
    â”œâ”€â”€ ErrorBoundary
    â””â”€â”€ Notification
```

---

## ç”»é¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### TitleScreen

ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢

**è²¬å‹™**:
- ã‚²ãƒ¼ãƒ ã‚¿ã‚¤ãƒˆãƒ«ã®è¡¨ç¤º
- æ–°è¦ã‚²ãƒ¼ãƒ /ã‚³ãƒ³ãƒ†ã‚£ãƒ‹ãƒ¥ãƒ¼ã®é¸æŠ
- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠãƒ¢ãƒ¼ãƒ€ãƒ«ã®è¡¨ç¤º

**Props**:
```typescript
interface TitleScreenProps {
  // ãªã—ï¼ˆgameStoreã‹ã‚‰ç›´æ¥å–å¾—ï¼‰
}
```

**ä½¿ç”¨ã™ã‚‹ã‚¹ãƒˆã‚¢**:
- `gameStore`: ç”»é¢é·ç§»ã€ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç¢ºèª

**å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- `CharacterSelectModal`: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠ

---

### CharacterSelectModal

ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠãƒ¢ãƒ¼ãƒ€ãƒ«

**è²¬å‹™**:
- ã‚¸ãƒ£ãƒƒã‚¯åˆ‘äº‹/ã‚¬ãƒ—ãƒªãƒ¼ãƒè­¦éƒ¨ã®é¸æŠ
- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼èª¬æ˜ã®è¡¨ç¤º

**Props**:
```typescript
interface CharacterSelectModalProps {
  isOpen: boolean
  onSelect: (character: CharacterType) => void
  onClose: () => void
}
```

**çŠ¶æ…‹**:
```typescript
const [selectedCharacter, setSelectedCharacter] = useState<CharacterType | null>(null)
```

---

### EnemySelectScreen

æ•µé¸æŠç”»é¢

**è²¬å‹™**:
- æ•µã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ä¸€è¦§è¡¨ç¤º
- æ•µã®è©³ç´°æƒ…å ±è¡¨ç¤º
- æ’ƒç ´æ¸ˆã¿æ•µã®è¡¨ç¤º

**Props**:
```typescript
interface EnemySelectScreenProps {
  // ãªã—
}
```

**ä½¿ç”¨ã™ã‚‹ã‚¹ãƒˆã‚¢**:
- `gameStore`: æ•µé¸æŠã€æ’ƒç ´æ¸ˆã¿æ•µæƒ…å ±
- `playerStore`: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª

**å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- `EnemyCard`: æ•µã‚«ãƒ¼ãƒ‰
- `ProgressIndicator`: é€²è¡ŒçŠ¶æ³è¡¨ç¤º

---

### EnemyCard

æ•µã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- æ•µã®åŸºæœ¬æƒ…å ±è¡¨ç¤º
- é›£æ˜“åº¦è¡¨ç¤º
- æ’ƒç ´æ¸ˆã¿ãƒãƒ¼ã‚¯ã®è¡¨ç¤º

**Props**:
```typescript
interface EnemyCardProps {
  enemy: Enemy
  isDefeated: boolean
  isSelected: boolean
  onClick: () => void
}
```

---

### ShopScreen

ã‚·ãƒ§ãƒƒãƒ—ç”»é¢

**è²¬å‹™**:
- éƒ¨éšŠã®è³¼å…¥
- æ‰€æŒé‡‘ã®è¡¨ç¤º
- HPå›å¾©

**Props**:
```typescript
interface ShopScreenProps {
  // ãªã—
}
```

**ä½¿ç”¨ã™ã‚‹ã‚¹ãƒˆã‚¢**:
- `playerStore`: æ‰€æŒé‡‘ã€éƒ¨éšŠè³¼å…¥ã€HPå›å¾©

**å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- `UnitShopList`: éƒ¨éšŠä¸€è¦§
- `ShopCart`: ã‚«ãƒ¼ãƒˆè¡¨ç¤º

---

### LevelUpScreen

ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ç”»é¢

**è²¬å‹™**:
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—
- å¿…è¦ã‚³ã‚¹ãƒˆã®è¡¨ç¤º
- ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º

**Props**:
```typescript
interface LevelUpScreenProps {
  // ãªã—
}
```

**ä½¿ç”¨ã™ã‚‹ã‚¹ãƒˆã‚¢**:
- `playerStore`: ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—å‡¦ç†

**å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- `StatCard`: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚«ãƒ¼ãƒ‰ (HP, SP, AT, DF, AR)
- `LevelUpButton`: ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ãƒœã‚¿ãƒ³

---

### StatCard

ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ç¾åœ¨å€¤ãƒ»ãƒ¬ãƒ™ãƒ«è¡¨ç¤º
- ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ã‚³ã‚¹ãƒˆè¡¨ç¤º
- ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ãƒœã‚¿ãƒ³

**Props**:
```typescript
interface StatCardProps {
  statType: StatType
  currentValue: number
  currentLevel: number
  cost: number
  canLevelUp: boolean
  onLevelUp: () => void
}
```

---

### PlacementScreen

éƒ¨éšŠé…ç½®ç”»é¢

**è²¬å‹™**:
- éƒ¨éšŠé…ç½®UIã®è¡¨ç¤º
- é…ç½®å®Œäº†åˆ¤å®š
- æˆ¦é—˜é–‹å§‹

**Props**:
```typescript
interface PlacementScreenProps {
  // ãªã—
}
```

**ä½¿ç”¨ã™ã‚‹ã‚¹ãƒˆã‚¢**:
- `playerStore`: é…ç½®éƒ¨éšŠç®¡ç†
- `gameStore`: ç”»é¢é·ç§»

**å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- `PlacementField`: é…ç½®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
- `UnitInventory`: æ‰€æŒéƒ¨éšŠä¸€è¦§
- `PlacementControls`: é…ç½®æ“ä½œ

---

### PlacementField

é…ç½®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- ã‚°ãƒªãƒƒãƒ‰ã®è¡¨ç¤º
- éƒ¨éšŠã®é…ç½®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
- ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—å¯¾å¿œ

**Props**:
```typescript
interface PlacementFieldProps {
  fieldSize: GridSize
  placedUnits: PlacedUnit[]
  selectedUnit: Unit | null
  selectedRotation: Rotation
  onCellClick: (position: Position) => void
  onCellHover: (position: Position | null) => void
}
```

**çŠ¶æ…‹**:
```typescript
const [hoveredCell, setHoveredCell] = useState<Position | null>(null)
const [previewCells, setPreviewCells] = useState<Position[]>([])
```

---

### UnitInventory

æ‰€æŒéƒ¨éšŠä¸€è¦§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- æ‰€æŒéƒ¨éšŠã®è¡¨ç¤º
- éƒ¨éšŠã®é¸æŠ
- é…ç½®æ¸ˆã¿éƒ¨éšŠã®è¡¨ç¤º

**Props**:
```typescript
interface UnitInventoryProps {
  ownedUnits: string[]
  placedUnits: PlacedUnit[]
  selectedUnitId: string | null
  onSelectUnit: (unitId: string) => void
}
```

**å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- `InventoryItem`: éƒ¨éšŠã‚¢ã‚¤ãƒ†ãƒ 

---

### PlacementControls

é…ç½®æ“ä½œã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- å›è»¢ãƒœã‚¿ãƒ³
- é…ç½®/ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³
- æˆ¦é—˜é–‹å§‹ãƒœã‚¿ãƒ³

**Props**:
```typescript
interface PlacementControlsProps {
  selectedUnit: Unit | null
  currentRotation: Rotation
  canPlace: boolean
  canStartBattle: boolean
  onRotate: () => void
  onPlace: () => void
  onCancel: () => void
  onStartBattle: () => void
}
```

---

## ã‚²ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### BattleScreen

æˆ¦é—˜ç”»é¢

**è²¬å‹™**:
- æˆ¦é—˜å…¨ä½“ã®ç®¡ç†
- ã‚¿ãƒ¼ãƒ³åˆ¶å¾¡ã®è¡¨ç¤º
- å‹æ•—åˆ¤å®šã®ç›£è¦–

**Props**:
```typescript
interface BattleScreenProps {
  // ãªã—
}
```

**ä½¿ç”¨ã™ã‚‹ã‚¹ãƒˆã‚¢**:
- `battleStore`: æˆ¦é—˜çŠ¶æ…‹å…¨èˆ¬

**å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- `BattleField`: æˆ¦é—˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
- `StatusBar`: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼
- `ActionBar`: ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒãƒ¼
- `BattleEffects`: ã‚¨ãƒ•ã‚§ã‚¯ãƒˆè¡¨ç¤º

---

### BattleField

æˆ¦é—˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ»æ•µãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®è¡¨ç¤º
- æ”»æ’ƒå¯¾è±¡ã®é¸æŠ

**Props**:
```typescript
interface BattleFieldProps {
  playerField: Field
  enemyField: Field
  currentTurn: Turn
  onAttack: (position: Position) => void
}
```

**å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- `PlayerField`: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
- `EnemyField`: æ•µãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

---

### FieldGrid

ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚°ãƒªãƒƒãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- ã‚°ãƒªãƒƒãƒ‰ã®æç”»
- ã‚»ãƒ«ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†

**Props**:
```typescript
interface FieldGridProps {
  field: Field
  isPlayerField: boolean
  isInteractive: boolean
  onCellClick?: (position: Position) => void
}
```

**å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- `Cell`: ã‚»ãƒ«

---

### Cell

ã‚»ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- ã‚»ãƒ«ã®çŠ¶æ…‹è¡¨ç¤ºï¼ˆæœªæ¢ç´¢/HIT/MISS/ç ´å£Šï¼‰
- ãƒ›ãƒãƒ¼ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ

**Props**:
```typescript
interface CellProps {
  position: Position
  state: CellState
  isRevealed: boolean
  isPlayerField: boolean
  isHovered: boolean
  onClick?: () => void
  onHover?: () => void
}
```

**ã‚¹ã‚¿ã‚¤ãƒ«**:
```typescript
// Tailwindã‚¯ãƒ©ã‚¹ã§çŠ¶æ…‹ã«å¿œã˜ãŸã‚¹ã‚¿ã‚¤ãƒ«
const cellStyles = {
  unexplored: 'bg-gray-700',
  hit: 'bg-red-500 animate-pulse',
  miss: 'bg-blue-400',
  destroyed: 'bg-gray-500'
}
```

---

### StatusBar

ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ»æ•µã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º
- HP/SP/éƒ¨éšŠã‚²ãƒ¼ã‚¸ã®è¡¨ç¤º

**Props**:
```typescript
interface StatusBarProps {
  playerStats: PlayerStats
  playerMaxStats: PlayerMaxStats
  enemyStats: EnemyStats
  enemyMaxStats: EnemyMaxStats
  playerUnitsRemaining: number
  enemyUnitsRemaining: number
}
```

**å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- `PlayerStatus`: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- `EnemyStatus`: æ•µã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

---

### PlayerStatus / EnemyStatus

ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- HP/SPãƒãƒ¼ã®è¡¨ç¤º
- éƒ¨éšŠæ®‹æ•°ã®è¡¨ç¤º
- ç¾åœ¨ã®ã‚¿ãƒ¼ãƒ³è¡¨ç¤º

**Props**:
```typescript
interface StatusDisplayProps {
  name: string
  stats: PlayerStats | EnemyStats
  maxStats: PlayerMaxStats | EnemyMaxStats
  unitsRemaining: number
  isCurrentTurn: boolean
}
```

---

### ActionBar

ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- æ”»æ’ƒãƒœã‚¿ãƒ³
- ç‰¹æ®Šæ”»æ’ƒãƒ¡ãƒ‹ãƒ¥ãƒ¼
- å›å¾©ãƒœã‚¿ãƒ³
- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³

**Props**:
```typescript
interface ActionBarProps {
  currentTurn: Turn
  canAttack: boolean
  canUseSpecial: boolean
  canHeal: boolean
  onAttackClick: () => void
  onSpecialClick: () => void
  onHealClick: () => void
  onMenuClick: () => void
}
```

**å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- `AttackButton`: æ”»æ’ƒãƒœã‚¿ãƒ³
- `SpecialAttackMenu`: ç‰¹æ®Šæ”»æ’ƒãƒ¡ãƒ‹ãƒ¥ãƒ¼
- `HealButton`: å›å¾©ãƒœã‚¿ãƒ³
- `MenuButton`: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³

---

### SpecialAttackMenu

ç‰¹æ®Šæ”»æ’ƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- ä½¿ç”¨å¯èƒ½ãªç‰¹æ®Šæ”»æ’ƒã®è¡¨ç¤º
- SPæ¶ˆè²»é‡ã®è¡¨ç¤º
- ç‰¹æ®Šæ”»æ’ƒã®é¸æŠ

**Props**:
```typescript
interface SpecialAttackMenuProps {
  availableAttacks: {
    unitId: string
    name: string
    spCost: number
    canUse: boolean
  }[]
  onSelectAttack: (unitId: string) => void
  onClose: () => void
}
```

---

### BattleEffects

ã‚¨ãƒ•ã‚§ã‚¯ãƒˆè¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- HIT/MISS/ç ´å£Šã‚¨ãƒ•ã‚§ã‚¯ãƒˆã®è¡¨ç¤º
- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†

**Props**:
```typescript
interface BattleEffectsProps {
  currentAnimation: {
    type: 'hit' | 'miss' | 'destroy' | 'special' | null
    position?: Position
  }
}
```

**å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- `HitEffect`: HITã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
- `MissEffect`: MISSã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
- `DestroyEffect`: ç ´å£Šã‚¨ãƒ•ã‚§ã‚¯ãƒˆ

---

### HitEffect / MissEffect / DestroyEffect

ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®è¡¨ç¤º
- è‡ªå‹•çš„ãªãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆ

**Props**:
```typescript
interface EffectProps {
  position: Position
  onComplete: () => void
}
```

**å®Ÿè£…**:
```typescript
// Framer Motionã‚’ä½¿ç”¨
<motion.div
  initial={{ scale: 0, opacity: 1 }}
  animate={{ scale: 1.5, opacity: 0 }}
  transition={{ duration: 0.5 }}
  onAnimationComplete={onComplete}
>
  {/* ã‚¨ãƒ•ã‚§ã‚¯ãƒˆå†…å®¹ */}
</motion.div>
```

---

### ResultScreen

æˆ¦é—˜çµæœç”»é¢

**è²¬å‹™**:
- å‹æ•—ã®è¡¨ç¤º
- ç²å¾—å ±é…¬ãƒ»çµŒé¨“å€¤ã®è¡¨ç¤º
- æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³é¸æŠ

**Props**:
```typescript
interface ResultScreenProps {
  // ãªã—ï¼ˆbattleStoreã‹ã‚‰å–å¾—ï¼‰
}
```

**ä½¿ç”¨ã™ã‚‹ã‚¹ãƒˆã‚¢**:
- `battleStore`: æˆ¦é—˜çµæœ
- `gameStore`: ç”»é¢é·ç§»

**å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- `VictoryDisplay`: å‹åˆ©è¡¨ç¤º
- `DefeatDisplay`: æ•—åŒ—è¡¨ç¤º
- `RewardSummary`: å ±é…¬ã‚µãƒãƒªãƒ¼
- `NextActionButtons`: æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

---

### RewardSummary

å ±é…¬ã‚µãƒãƒªãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- ç²å¾—è³é‡‘ã®è¡¨ç¤º
- ç²å¾—çµŒé¨“å€¤ã®è¡¨ç¤º
- ãƒœãƒ¼ãƒŠã‚¹è©³ç´°ã®è¡¨ç¤º

**Props**:
```typescript
interface RewardSummaryProps {
  result: BattleResult
}
```

---

## UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### Button

æ±ç”¨ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
- ãƒœã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ç®¡ç†

**Props**:
```typescript
interface ButtonProps {
  children: React.ReactNode
  onClick: () => void
  variant?: 'primary' | 'secondary' | 'danger'
  disabled?: boolean
  size?: 'sm' | 'md' | 'lg'
}
```

---

### ProgressBar

ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- HP/SPã‚²ãƒ¼ã‚¸ã®è¡¨ç¤º
- ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸è¡¨ç¤º

**Props**:
```typescript
interface ProgressBarProps {
  current: number
  max: number
  label?: string
  color?: 'green' | 'blue' | 'orange'
  showText?: boolean
}
```

---

### Modal

ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤è¡¨ç¤º
- ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¡¨ç¤º
- å¤–éƒ¨ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹

**Props**:
```typescript
interface ModalProps {
  isOpen: boolean
  onClose: () => void
  title?: string
  children: React.ReactNode
  size?: 'sm' | 'md' | 'lg'
}
```

---

### Notification

é€šçŸ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- ä¸€æ™‚çš„ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- è‡ªå‹•çš„ã«ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆ

**Props**:
```typescript
interface NotificationProps {
  message: string
  type: 'success' | 'error' | 'info' | 'warning'
  duration?: number
  onClose: () => void
}
```

---

### LoadingSpinner

ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ãƒ”ãƒŠãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã®è¡¨ç¤º

**Props**:
```typescript
interface LoadingSpinnerProps {
  size?: 'sm' | 'md' | 'lg'
  message?: string
}
```

---

## å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### Container

ã‚³ãƒ³ãƒ†ãƒŠã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- ç”»é¢å…¨ä½“ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç®¡ç†
- æœ€å¤§å¹…ã®åˆ¶å¾¡

**Props**:
```typescript
interface ContainerProps {
  children: React.ReactNode
  maxWidth?: 'sm' | 'md' | 'lg' | 'xl' | 'full'
}
```

---

### Grid

ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**è²¬å‹™**:
- ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æä¾›

**Props**:
```typescript
interface GridProps {
  children: React.ReactNode
  cols: number
  gap?: number
}
```

---

## ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³

### æˆ¦é—˜ç”»é¢ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
BattleScreen
     â”‚
     â”œâ”€ battleStoreï¼ˆèª­ã¿å–ã‚Šï¼‰
     â”‚    â”œâ”€ phase
     â”‚    â”œâ”€ turn
     â”‚    â”œâ”€ playerField
     â”‚    â”œâ”€ enemyField
     â”‚    â”œâ”€ playerStats
     â”‚    â””â”€ enemyStats
     â”‚
     â”œâ”€â†’ BattleField
     â”‚    â”‚
     â”‚    â”œâ”€ Props: playerField, enemyField, currentTurn
     â”‚    â”‚
     â”‚    â”œâ”€â†’ PlayerField
     â”‚    â”‚    â”‚
     â”‚    â”‚    â””â”€â†’ FieldGrid
     â”‚    â”‚         â”‚
     â”‚    â”‚         â””â”€â†’ Cell (Ã—N)
     â”‚    â”‚
     â”‚    â””â”€â†’ EnemyField
     â”‚         â”‚
     â”‚         â”œâ”€â†’ FieldGrid
     â”‚         â”‚    â”‚
     â”‚         â”‚    â””â”€â†’ Cell (Ã—N)
     â”‚         â”‚         â”‚
     â”‚         â”‚         â””â”€ onClick â†’ battleStore.attack()
     â”‚         â”‚
     â”‚         â””â”€ battleStoreï¼ˆæ›¸ãè¾¼ã¿ï¼‰
     â”‚
     â”œâ”€â†’ StatusBar
     â”‚    â”‚
     â”‚    â”œâ”€ Props: playerStats, enemyStats
     â”‚    â”‚
     â”‚    â”œâ”€â†’ PlayerStatus
     â”‚    â””â”€â†’ EnemyStatus
     â”‚
     â””â”€â†’ ActionBar
          â”‚
          â”œâ”€ Props: canAttack, canUseSpecial
          â”‚
          â”œâ”€â†’ AttackButton
          â”‚    â””â”€ onClick â†’ ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿
          â”‚
          â”œâ”€â†’ SpecialAttackMenu
          â”‚    â””â”€ onSelect â†’ battleStore.executeSpecialAttack()
          â”‚
          â””â”€â†’ HealButton
               â””â”€ onClick â†’ playerStore.heal()
```

### éƒ¨éšŠé…ç½®ç”»é¢ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
PlacementScreen
     â”‚
     â”œâ”€ playerStoreï¼ˆèª­ã¿å–ã‚Šï¼‰
     â”‚    â”œâ”€ ownedUnits
     â”‚    â”œâ”€ placedUnits
     â”‚    â””â”€ stats.AR
     â”‚
     â”œâ”€â†’ PlacementField
     â”‚    â”‚
     â”‚    â”œâ”€ Props: fieldSize, placedUnits
     â”‚    â”‚
     â”‚    â”œâ”€â†’ PlacementGrid
     â”‚    â”‚    â”‚
     â”‚    â”‚    â””â”€â†’ Cell (Ã—N)
     â”‚    â”‚         â””â”€ onClick â†’ é…ç½®è©¦è¡Œ
     â”‚    â”‚
     â”‚    â””â”€ State: selectedUnit, rotation, previewCells
     â”‚
     â”œâ”€â†’ UnitInventory
     â”‚    â”‚
     â”‚    â”œâ”€ Props: ownedUnits, placedUnits
     â”‚    â”‚
     â”‚    â””â”€â†’ InventoryItem (Ã—N)
     â”‚         â””â”€ onClick â†’ selectedUnitã‚’æ›´æ–°
     â”‚
     â””â”€â†’ PlacementControls
          â”‚
          â”œâ”€ Props: selectedUnit, canPlace
          â”‚
          â”œâ”€â†’ RotateButton
          â”‚    â””â”€ onClick â†’ rotationæ›´æ–°
          â”‚
          â”œâ”€â†’ PlaceButton
          â”‚    â””â”€ onClick â†’ playerStore.placeUnit()
          â”‚
          â””â”€â†’ StartBattleButton
               â””â”€ onClick â†’ battleStore.initializeBattle()
                            gameStore.navigateTo(BATTLE)
```

---

## ã‚«ã‚¹ã‚¿ãƒ Hooksè¨­è¨ˆ

### useBattle

æˆ¦é—˜ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚«ãƒ—ã‚»ãƒ«åŒ–

**è²¬å‹™**:
- æ”»æ’ƒå‡¦ç†ã®å®Ÿè¡Œ
- ç‰¹æ®Šæ”»æ’ƒã®å®Ÿè¡Œ
- å‹æ•—åˆ¤å®šã®ç›£è¦–

**æˆ»ã‚Šå€¤**:
```typescript
interface UseBattleReturn {
  attack: (position: Position) => void
  useSpecialAttack: (unitId: string, position: Position) => void
  canAttack: boolean
  isPlayerTurn: boolean
  winner: 'player' | 'enemy' | null
}
```

**å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸**:
```typescript
export function useBattle() {
  const battleStore = useBattleStore()
  
  const attack = useCallback((position: Position) => {
    const result = battleStore.attack(position)
    // å‹æ•—åˆ¤å®š
    const winner = battleStore.checkVictory()
    if (winner) {
      battleStore.endBattle(winner)
    }
  }, [battleStore])
  
  const useSpecialAttack = useCallback((unitId: string, position: Position) => {
    battleStore.executeSpecialAttack(unitId, position)
  }, [battleStore])
  
  return {
    attack,
    useSpecialAttack,
    canAttack: battleStore.turn === Turn.PLAYER && !battleStore.isAnimating,
    isPlayerTurn: battleStore.turn === Turn.PLAYER,
    winner: battleStore.checkVictory()
  }
}
```

---

### useUnitPlacement

éƒ¨éšŠé…ç½®ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚«ãƒ—ã‚»ãƒ«åŒ–

**è²¬å‹™**:
- éƒ¨éšŠã®é¸æŠãƒ»å›è»¢
- é…ç½®å¯èƒ½æ€§ãƒã‚§ãƒƒã‚¯
- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º

**æˆ»ã‚Šå€¤**:
```typescript
interface UseUnitPlacementReturn {
  selectedUnit: Unit | null
  rotation: Rotation
  previewCells: Position[]
  selectUnit: (unitId: string) => void
  rotate: () => void
  placeUnit: (position: Position) => boolean
  canPlace: (position: Position) => boolean
}
```

---

### useAnimation

ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†ã‚’ã‚«ãƒ—ã‚»ãƒ«åŒ–

**è²¬å‹™**:
- ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã®è¡¨ç¤ºãƒ»éè¡¨ç¤º
- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†ã®æ¤œçŸ¥

**æˆ»ã‚Šå€¤**:
```typescript
interface UseAnimationReturn {
  showEffect: (type: EffectType, position: Position) => void
  currentEffect: EffectType | null
  isAnimating: boolean
}
```

---

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### React.memo ã®ä½¿ç”¨

é »ç¹ã«å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¡ãƒ¢åŒ–

```typescript
export const Cell = React.memo<CellProps>(({ position, state, onClick }) => {
  // ...
}, (prevProps, nextProps) => {
  // stateãŒå¤‰ã‚ã‚‰ãªã„é™ã‚Šå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ãªã„
  return prevProps.state === nextProps.state
})
```

### useCallback ã®ä½¿ç”¨

ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’ãƒ¡ãƒ¢åŒ–

```typescript
const handleCellClick = useCallback((position: Position) => {
  if (canAttack) {
    attack(position)
  }
}, [canAttack, attack])
```

### useMemo ã®ä½¿ç”¨

é‡ã„è¨ˆç®—çµæœã‚’ãƒ¡ãƒ¢åŒ–

```typescript
const fieldCells = useMemo(() => {
  return createFieldCells(fieldSize)
}, [fieldSize])
```

---

## ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ

### ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ

- ã‚°ãƒªãƒƒãƒ‰ã‚»ãƒ«ã¯ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§é¸æŠå¯èƒ½ï¼ˆçŸ¢å°ã‚­ãƒ¼ï¼‰
- ãƒœã‚¿ãƒ³ã¯Enter/Spaceã§å®Ÿè¡Œå¯èƒ½
- ãƒ¢ãƒ¼ãƒ€ãƒ«ã¯Escã§é–‰ã˜ã‚‹

### ARIAå±æ€§

```typescript
<button
  aria-label="æ”»æ’ƒ"
  aria-disabled={!canAttack}
  onClick={handleAttack}
>
  æ”»æ’ƒ
</button>
```

---

## ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ

### ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ

```typescript
const breakpoints = {
  sm: '640px',
  md: '768px',
  lg: '1024px',
  xl: '1280px'
}
```

### ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ

- ã‚¿ãƒƒãƒæ“ä½œã«å¯¾å¿œ
- ã‚°ãƒªãƒƒãƒ‰ã‚µã‚¤ã‚ºã‚’ç”»é¢ã«åˆã‚ã›ã¦èª¿æ•´
- ç¸¦ç”»é¢ã§ã‚‚æ“ä½œã—ã‚„ã™ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

---

## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### ErrorBoundary

ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒã—ã¦è¡¨ç¤º

```typescript
<ErrorBoundary
  fallback={<ErrorScreen />}
  onError={(error) => console.error(error)}
>
  <App />
</ErrorBoundary>
```

---

**ä»¥ä¸Šã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆæ›¸ï¼ˆç¬¬1ç‰ˆï¼‰**
