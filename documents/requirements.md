# ハードボイルド刑事風ゲーム 要件定義書

## 📌 プロジェクト概要

**プロジェクト名**: ハードボイルド刑事風 戦略シミュレーションゲーム  
**ジャンル**: 戦略シミュレーション × バトルシップ  
**ターゲット**: Webブラウザ（React + TypeScript）  
**目的**: 個人開発・ポートフォリオ作品

---

## 🎮 ゲームコンセプト

### 基本ゲームフロー
1. キャラクター選択（ジャック刑事 or ガプリーノ警部）
2. 敵選択（複数の凶悪犯から選択）
3. 戦闘準備（部隊配置フェーズ）
4. 戦闘（ターン制バトル）
5. 戦闘後（賞金で回復・部隊購入、経験値でステータス強化）
6. 繰り返し（全ての敵を倒すまで）

### コアルール
- 相手のフィールドに配置された部隊の位置は見えない
- 部隊にHITすると連続攻撃可能
- 部隊に外れると相手にダメージ＋ターン交代
- 部隊を全て破壊 or 相手のHPを0にすると勝利

---

## 📐 フィールド仕様

### グリッドシステム
- **初期サイズ**: 7×7 (49マス)
- **成長ルール**: ARレベルが上がるごとに縦横交互に1列ずつ追加
- **最大サイズ**: 12×12 (144マス) ※AR Lv10

### グリッド成長テーブル
| AR Lv | グリッドサイズ | 総マス数 | 成長方向 |
|-------|---------------|---------|---------|
| 1 | 7×7 | 49 | 初期値 |
| 2 | 8×7 | 56 | 横+1 |
| 3 | 8×8 | 64 | 縦+1 |
| 4 | 9×8 | 72 | 横+1 |
| 5 | 9×9 | 81 | 縦+1 |
| 6 | 10×9 | 90 | 横+1 |
| 7 | 10×10 | 100 | 縦+1 |
| 8 | 11×10 | 110 | 横+1 |
| 9 | 11×11 | 121 | 縦+1 |
| 10 | 12×11 | 132 | 横+1 |
| 11 | 12×12 | 144 | 縦+1 |

### 先制攻撃判定
- **基本ルール**: ARが高い方が先制攻撃
- **例外**: フェラーリまたは巨大飛行艇を配置すると必ず先制

---

## 🚗 部隊システム

### 部隊配置ルール
- すべての部隊は90度単位で回転可能
- 地雷のみ最大6個配置可能、他の部隊は各1個まで
- 購入しただけでは効果なし、必ず配置が必要
- 戦闘中に破壊されると効果消滅

### 部隊マスターデータ

#### 【回復系】
| 部隊名 | サイズ | 形状 | 価格 | 効果 |
|--------|--------|------|------|------|
| 救急車 | 2マス | `■■` | 500円 | HP回復可能（SP消費） |
| 救急ヘリ | 3マス | `■`<br>`■■` | 1200円 | HP大回復可能 |

#### 【特殊攻撃系 - 共通】
| 部隊名 | サイズ | 形状 | 価格 | 効果 | 消費SP |
|--------|--------|------|------|------|--------|
| ハリアー | 2マス | `■■` | 800円 | 十字爆撃（上下左右3マス、計5マス攻撃） | 25 |
| F15戦闘機 | 3マス | `■■■` | 1500円 | 縦列爆撃（縦1列全攻撃） | 30 |
| 戦艦 | 4マス | `■■■■` | 2000円 | 水平爆撃（横1列全攻撃） | 40 |

#### 【特殊攻撃系 - ジャック刑事専用】
| 部隊名 | サイズ | 形状 | 価格 | 効果 | 消費SP |
|--------|--------|------|------|------|--------|
| M60戦車 | 2マス | `■`<br>`■` | 1000円 | 集中砲火（外れ時に3連続攻撃） | 15 |
| アパッチ | 3マス | `■■`<br>` ■` | 1800円 | 無差別攻撃（10秒間連射可能） | 20 |

#### 【特殊攻撃系 - ガプリーノ警部専用】
| 部隊名 | サイズ | 形状 | 価格 | 効果 | 消費SP |
|--------|--------|------|------|------|--------|
| 自走対空ミサイル | 2マス | `■■` | 1200円 | 誘導弾（自動で部隊1マス発見） | 16→24→32... |
| アパッチ(ガプリーノ) | 3マス | `■■`<br>` ■` | 2200円 | 妨害工作（相手ターン奪取） | 20→30→40... |

#### 【ステータス強化系】
| 部隊名 | サイズ | 形状 | 価格 | 効果 |
|--------|--------|------|------|------|
| 消防車 | 2マス | `■■` | 600円 | 防御力+20% |
| ダンプ | 3マス | `■ ■`<br>` ■` | 1000円 | 防御力+30% |
| 石油タンカー | 3マス | `■■■` | 800円 | 攻撃力+30% |
| M4戦車 | 2マス | `■`<br>`■` | 1400円 | 攻撃力+50% |
| フェラーリ | 1マス | `■` | 1500円 | 必ず先制攻撃 |
| 旅客機 | 4マス | `■■■■` | 2500円 | 経験値+50% |

#### 【超強化系】
| 部隊名 | サイズ | 形状 | 価格 | 効果 |
|--------|--------|------|------|------|
| 巨大飛行艇 | 5マス | ` ■`<br>`■■■`<br>` ■` | 5000円 | ステータスUP効果×2＋必ず先制攻撃 |
| 航空母艦 | 6マス | `■■■`<br>`■■■` | 8000円 | 全特殊攻撃の効果×2 |

#### 【特殊】
| 部隊名 | サイズ | 形状 | 価格 | 効果 |
|--------|--------|------|------|------|
| 地雷 | 1マス | `■` | 200円 | カウンター攻撃（最大6個配置可） |

### 特殊攻撃詳細

#### 十字爆撃（ハリアー）
```
    ■
    ■
■ ■ X ■ ■
    ■
    ■
```
- 攻撃地点(X)を中心に上下左右3マスずつ攻撃
- 合計5マス同時攻撃

#### 縦列爆撃（F15戦闘機）
```
■
■
X ← 攻撃地点
■
■
```
- 攻撃地点の縦1列全てを攻撃

#### 水平爆撃（戦艦）
```
■ ■ X ■ ■
    ↑
  攻撃地点
```
- 攻撃地点の横1列全てを攻撃

#### 集中砲火（M60戦車 - ジャック専用）
- 部隊に外れた時、自動で3回連続攻撃
- 各攻撃でダメージ判定

#### 無差別攻撃（アパッチ - ジャック専用）
- 10秒間、好きなマスを連続クリックして攻撃可能
- クリック回数制限なし

#### 誘導弾（自走対空ミサイル - ガプリーノ専用）
- 敵の部隊が配置されているマスを1つ自動で発見
- 使用ごとに消費SPが+8増加（16→24→32...）

#### 妨害工作（アパッチ - ガプリーノ専用）
- 相手のターンを強制的に中断し、こちらのターンに
- 使用ごとに消費SPが+10増加（20→30→40...）

---

## ⚔️ 戦闘システム

### 3つのゲージ
| ゲージ名 | 説明 |
|---------|------|
| HP（体力） | 直接攻撃を受けると減少。0になると敗北 |
| SP（必殺技） | 特殊攻撃や回復に使用。戦闘中は回復しない |
| UNITS（部隊） | 部隊が破壊されると減少。0になると敗北 |

### 勝利条件
以下のいずれかを達成
1. 相手の部隊ゲージを0にする（全部隊破壊）
2. 相手のHPを0にする

### 攻撃の流れ
1. **攻撃マス選択**: プレイヤーが相手フィールドのマスをクリック
2. **命中判定**:
   - **部隊にHIT**: 赤い爆発エフェクト → 連続攻撃権獲得
   - **部隊に外れ**: 青い爆発エフェクト → 相手HPにダメージ → ターン交代
3. **部隊破壊判定**: 部隊の全マスにHITで破壊完了 → 経験値獲得

### ダメージ計算式

#### 基本ダメージ
```javascript
// 直接攻撃（部隊に外れた時）
baseDamage = AT × (1 + random(-0.1, 0.1))  // ±10%のランダムブレ

// 攻撃力補正
totalAT = 基本AT × (1 + 石油タンカーBonus + M4戦車Bonus)
if (巨大飛行艇が配置 && (石油タンカー || M4戦車)) {
  totalAT *= 2
}

// 防御力補正
totalDF = 基本DF × (1 + 消防車Bonus + ダンプBonus)
if (巨大飛行艇が配置 && (消防車 || ダンプ)) {
  totalDF *= 2
}

// 最終ダメージ
finalDamage = Math.max(1, baseDamage - totalDF)
```

#### ボーナス値
- 石油タンカー: +30% (0.3)
- M4戦車: +50% (0.5)
- 消防車: +20% (0.2)
- ダンプ: +30% (0.3)
- 巨大飛行艇: ステータスUP効果×2

### ターン制御
- 先制攻撃: AR値が高い方 or フェラーリ/巨大飛行艇所持
- 部隊HITで連続攻撃可能
- 部隊に外れるとターン交代
- 特殊攻撃使用後はターン交代

---

## 📊 プレイヤー育成システム

### 初期ステータス（両キャラ共通）
```javascript
{
  HP: 100,
  SP: 50,
  AT: 10,
  DF: 5,
  AR: 1
}
```

### ステータス詳細
| ステータス | 説明 | レベルアップ時の上昇量 |
|-----------|------|---------------------|
| HP | 体力。直接攻撃を受けた時の耐久力 | +20 |
| SP | 必殺技ポイント。特殊攻撃や回復に使用 | +10 |
| AT | 攻撃力。直接攻撃時のダメージ量 | +5 |
| DF | 防御力。直接攻撃を受けた時のダメージ軽減 | +3 |
| AR | エリア。フィールドの広さ | +1 (グリッド拡張) |

### レベルアップコスト計算式
```javascript
function getLevelUpCost(stat, currentLevel) {
  const baseCost = {
    HP: 50,
    SP: 30,
    AT: 40,
    DF: 35,
    AR: 60
  }
  
  return Math.floor(baseCost[stat] × Math.pow(1.3, currentLevel))
}
```

### レベル別必要経験値の例
| レベル | HP | SP | AT | DF | AR |
|--------|----|----|----|----|-----|
| 1→2 | 50 | 30 | 40 | 35 | 60 |
| 2→3 | 65 | 39 | 52 | 46 | 78 |
| 3→4 | 85 | 51 | 68 | 60 | 101 |
| 4→5 | 111 | 66 | 88 | 78 | 132 |
| 5→6 | 144 | 86 | 115 | 101 | 171 |

---

## 💰 経済システム

### 戦闘報酬
```javascript
// 基本賞金（敵ごと）
const baseReward = {
  '運び屋A': 1000,
  '狂人B': 1500,
  'Z大佐': 3000,
  '爆弾魔J': 5000
}

// ボーナス計算
残HP率 = 戦闘終了時のHP / 最大HP
残部隊率 = 残存部隊数 / 配置部隊数

最終賞金 = 基本賞金 × (1 + 残HP率 × 0.5) × (1 + 残部隊率 × 0.3)
```

### 賞金計算例
```
Z大佐を倒した場合（基本賞金3000円）
- HP: 120/150 (80%) 残存
- 部隊: 6/8 (75%) 残存

最終賞金 = 3000 × (1 + 0.8 × 0.5) × (1 + 0.75 × 0.3)
        = 3000 × 1.4 × 1.225
        = 5,145円
```

### HP回復コスト
```javascript
回復コスト = 回復量 × 2

例: 100HP回復 = 200円
    最大HPまで回復 = (最大HP - 現在HP) × 2
```

### 経験値システム

#### 基本経験値
```javascript
// 部隊1マスあたり5 EXP
部隊破壊時の経験値 = 破壊した部隊のマス数 × 5

例:
- 2マス部隊破壊 = 10 EXP
- 4マス部隊破壊 = 20 EXP
```

#### 経験値ボーナス
```javascript
// 旅客機ボーナス
if (旅客機が戦闘終了時に生存) {
  獲得経験値 *= 1.5
}

// フィールド占有率ボーナス
占有率 = 配置した部隊の総マス数 / フィールドの総マス数
最終経験値 = 基本経験値 × (1 + 占有率 × 0.5)
```

#### 経験値計算例
```
7×7フィールド（49マス）で戦闘
配置部隊: 15マス分
破壊した敵部隊: 2マス×3 + 4マス×2 = 14マス

基本経験値 = 14 × 5 = 70 EXP
占有率ボーナス = 70 × (1 + 15/49 × 0.5) = 70 × 1.153 = 80.7 EXP
旅客機ボーナス = 80.7 × 1.5 = 121 EXP

最終獲得 = 121 EXP
```

#### 重要仕様
- **敗北しても経験値は残る** → 何度でも挑戦可能
- 直接攻撃（HP削り）では経験値獲得なし
- 部隊をより多く破壊するほど経験値が多い

---

## 🤖 敵AIシステム

### 敵キャラクター設定

#### 運び屋A（難易度: Easy）
```javascript
{
  HP: 150,
  SP: 80,
  AT: 12,
  DF: 8,
  AR: 1,
  units: ['ハリアー', '消防車', '救急車'],
  aiType: 'balanced',
  specialAttack: ['十字爆撃']
}
```
- バランス型AI
- 特徴: 全体的にステータス低め、入門用

#### 狂人B（難易度: Medium）
```javascript
{
  HP: 120,
  SP: 100,
  AT: 25,
  DF: 3,
  AR: 2,
  units: ['M4戦車', '石油タンカー', 'F15戦闘機'],
  aiType: 'aggressive',
  specialAttack: ['縦列爆撃']
}
```
- 攻撃型AI
- 特徴: 高攻撃力・低防御、HPダメージ重視

#### Z大佐（難易度: Hard）
```javascript
{
  HP: 300,
  SP: 200,
  AT: 30,
  DF: 20,
  AR: 3,
  units: ['航空母艦', '戦艦', 'F15戦闘機', 'ハリアー', '巨大飛行艇'],
  aiType: 'strategic',
  specialAttack: ['水平爆撃', '縦列爆撃', '十字爆撃']
}
```
- 戦略型AI
- 特徴: 全特殊攻撃所持、高ステータス

#### 爆弾魔J（難易度: Nightmare）
```javascript
{
  HP: 500,
  SP: 300,
  AT: 35,
  DF: 25,
  AR: 4,
  units: ['全部隊所持'],
  aiType: 'expert',
  specialAttack: ['全特殊攻撃']
}
```
- エキスパートAI
- 特徴: 最強の敵、全部隊・全特殊攻撃を所持

### AI行動パターン

#### balanced（バランス型）
```javascript
function balancedAI(gameState) {
  // 前回HITした場所の周辺を50%の確率で探索
  if (lastHit && Math.random() < 0.5) {
    return searchAroundLastHit(lastHit)
  }
  // それ以外はランダム攻撃
  return getRandomUnexploredCell()
}
```

#### aggressive（攻撃型）
```javascript
function aggressiveAI(gameState) {
  // 部隊発見時も30%の確率でHP狙い
  if (unitFound && Math.random() < 0.3) {
    return continueUnitDestruction()
  }
  // 70%の確率でランダム攻撃（HP削り優先）
  return getRandomUnexploredCell()
}
```

#### strategic（戦略型）
```javascript
function strategicAI(gameState) {
  // 部隊発見時は形を推測して破壊
  if (unitFound) {
    return smartUnitDestruction(gameState)
  }
  // パターンサーチ（チェス盤状など）
  return patternBasedSearch()
}
```

#### expert（エキスパート）
```javascript
function expertAI(gameState) {
  // 確率分布マップを作成
  const probabilityMap = calculateProbabilityMap(gameState)
  
  // 最も部隊がある確率が高い場所を攻撃
  return getMostProbableCell(probabilityMap)
}
```

### AI特殊攻撃使用条件
```javascript
// 敵が特殊攻撃を使う条件
function shouldUseSpecialAttack(enemy, gameState) {
  // SP残量が50%以上ある
  if (enemy.currentSP < enemy.maxSP * 0.5) return false
  
  // 相手のHPが70%以下
  if (gameState.playerHP > gameState.playerMaxHP * 0.7) return false
  
  // 20%の確率で使用
  return Math.random() < 0.2
}
```

---

## 💾 セーブシステム

### ローカルストレージ使用
```javascript
// セーブデータ構造
interface SaveData {
  version: string
  lastSaved: string
  player: {
    character: 'jack' | 'gaprino'
    stats: {
      HP: number
      SP: number
      AT: number
      DF: number
      AR: number
    }
    money: number
    exp: number
    ownedUnits: string[]  // 所持部隊IDの配列
  }
  progress: {
    defeatedEnemies: string[]  // 倒した敵のIDの配列
    currentEnemy: string | null
  }
}
```

### セーブ・ロード機能
- 戦闘終了時に自動セーブ
- メニューから手動セーブ可能
- ゲーム起動時に自動ロード
- データがない場合は新規ゲーム開始

---

## 🎨 UI/UXデザイン

### 画面レイアウト

#### メインバトル画面
```
┌─────────────────────────────────────────┐
│ ステータスバー                            │
│ [ジャック刑事]  HP: ███████░░ 140/200   │
│ SP: ████░░░░░ 60/120  資金: 2,500円     │
│ EXP: 320  次のレベルまで: 80 EXP         │
├─────────────────────────────────────────┤
│                                          │
│  ┌─────────────┐   ┌─────────────┐    │
│  │ プレイヤー    │   │ 敵フィールド   │    │
│  │ フィールド    │   │ (見えない)    │    │
│  │             │   │              │    │
│  │ [配置済部隊] │   │  [????]      │    │
│  │             │   │              │    │
│  └─────────────┘   └─────────────┘    │
│                                          │
├─────────────────────────────────────────┤
│ アクションバー                            │
│ [通常攻撃] [特殊攻撃▼] [回復] [メニュー]  │
│                                          │
│ 配置済部隊: 🚗 🚁 ✈️ 🛡️ 💣               │
└─────────────────────────────────────────┘
```

#### 戦闘準備画面
```
┌─────────────────────────────────────────┐
│ 部隊配置 - 敵: 運び屋A                    │
├─────────────────────────────────────────┤
│  [配置フィールド]        [所持部隊一覧]   │
│  ┌─────────────┐      ┌──────────┐   │
│  │             │      │ 🚗 救急車  │   │
│  │             │      │ ✈️ ハリアー │   │
│  │    7×7      │      │ 🛡️ 消防車  │   │
│  │             │      │ 💣 地雷×6  │   │
│  │             │      └──────────┘   │
│  └─────────────┘                      │
│                                          │
│  選択中: 🚗救急車 [回転] [配置] [キャンセル]│
│                                          │
│  [戦闘開始]                    [戻る]    │
└─────────────────────────────────────────┘
```

### カラースキーム
```javascript
const colors = {
  // フィールド
  unexplored: '#2C3E50',      // 未攻撃マス
  playerField: '#34495E',     // 自フィールド
  destroyed: '#95A5A6',       // 破壊済み
  
  // エフェクト
  hit: '#E74C3C',            // HIT（赤）
  miss: '#3498DB',           // MISS（青）
  
  // ステータス
  hpBar: '#27AE60',          // HPゲージ
  spBar: '#3498DB',          // SPゲージ
  unitsBar: '#F39C12',       // 部隊ゲージ
  
  // UI
  primary: '#2980B9',        // ボタン
  success: '#27AE60',        // 成功
  danger: '#C0392B',         // 危険
  warning: '#F39C12'         // 警告
}
```

### アニメーション仕様
- **HIT時**: 赤い爆発エフェクト（0.3秒）
- **MISS時**: 青い波紋エフェクト（0.3秒）
- **部隊破壊時**: 拡大→縮小フェードアウト（0.5秒）
- **ダメージ表示**: 数字が浮かび上がる（0.4秒）
- **ターン交代**: スライドトランジション（0.2秒）

---

## 🔧 技術仕様

### 技術スタック
- **フレームワーク**: React 18+
- **言語**: TypeScript 5+
- **状態管理**: Zustand
- **スタイリング**: TailwindCSS
- **アニメーション**: Framer Motion
- **ストレージ**: localStorage

### ディレクトリ構造
```
src/
├── components/
│   ├── Game/
│   │   ├── BattleField.tsx          # フィールド表示
│   │   ├── Cell.tsx                 # グリッドセル
│   │   ├── UnitPlacement.tsx        # 部隊配置UI
│   │   ├── AttackSystem.tsx         # 攻撃処理
│   │   └── SpecialAttack.tsx        # 特殊攻撃UI
│   ├── UI/
│   │   ├── StatusBar.tsx            # ステータス表示
│   │   ├── ActionBar.tsx            # アクションバー
│   │   ├── ShopModal.tsx            # ショップ
│   │   ├── LevelUpModal.tsx         # レベルアップ
│   │   └── BattleResult.tsx         # 戦闘結果
│   └── Animations/
│       ├── HitEffect.tsx            # HITエフェクト
│       ├── MissEffect.tsx           # MISSエフェクト
│       └── DestroyEffect.tsx        # 破壊エフェクト
├── store/
│   ├── gameStore.ts                 # ゲーム全体の状態
│   ├── battleStore.ts               # 戦闘状態
│   └── playerStore.ts               # プレイヤーデータ
├── types/
│   ├── units.ts                     # 部隊型定義
│   ├── battle.ts                    # 戦闘型定義
│   ├── player.ts                    # プレイヤー型定義
│   └── enemy.ts                     # 敵型定義
├── utils/
│   ├── damageCalculator.ts          # ダメージ計算
│   ├── aiEngine.ts                  # 敵AIエンジン
│   ├── unitLogic.ts                 # 部隊配置・判定ロジック
│   ├── battleLogic.ts               # 戦闘ロジック
│   └── localStorage.ts              # セーブ/ロード機能
├── constants/
│   ├── units.ts                     # 部隊マスターデータ
│   ├── enemies.ts                   # 敵マスターデータ
│   └── config.ts                    # ゲーム設定
└── hooks/
    ├── useBattle.ts                 # 戦闘ロジックフック
    ├── useUnitPlacement.ts          # 部隊配置フック
    └── useAnimation.ts              # アニメーションフック
```

### 主要型定義

#### Unit型
```typescript
interface Unit {
  id: string
  name: string
  size: number
  shape: number[][]  // 2D配列で形状を表現
  price: number
  category: 'heal' | 'attack' | 'buff' | 'special'
  effect?: {
    type: string
    value: number | string
  }
  specialAttack?: {
    name: string
    spCost: number
    pattern: number[][]
  }
}
```

#### BattleState型
```typescript
interface BattleState {
  phase: 'placement' | 'battle' | 'result'
  turn: 'player' | 'enemy'
  playerField: Cell[][]
  enemyField: Cell[][]
  playerHP: number
  playerSP: number
  enemyHP: number
  enemySP: number
  playerUnits: PlacedUnit[]
  enemyUnits: PlacedUnit[]
  attackHistory: AttackLog[]
}
```

#### Cell型
```typescript
interface Cell {
  x: number
  y: number
  state: 'unexplored' | 'hit' | 'miss' | 'destroyed'
  unitId?: string
  revealed: boolean
}
```

---

## 📋 開発フェーズ

### Phase 1: コアシステム（2週間）
- [ ] プロジェクトセットアップ
- [ ] 型定義・マスターデータ作成
- [ ] グリッドシステム実装
- [ ] 部隊配置UI実装
- [ ] 基本攻撃システム実装
- [ ] HIT/MISS判定ロジック

### Phase 2: 戦闘システム（2週間）
- [ ] ダメージ計算ロジック
- [ ] ターン制御システム
- [ ] 部隊破壊ロジック
- [ ] 勝敗判定
- [ ] ステータス補正システム

### Phase 3: 育成・経済（1週間）
- [ ] ショップ機能
- [ ] レベルアップシステム
- [ ] 経験値・賞金計算
- [ ] HP回復機能

### Phase 4: 特殊システム（2週間）
- [ ] 特殊攻撃実装（全種類）
- [ ] 部隊の特殊効果
- [ ] 敵AI実装（全パターン）
- [ ] 地雷システム

### Phase 5: UI/UX（1週間）
- [ ] エフェクトアニメーション
- [ ] サウンドエフェクト
- [ ] レスポンシブ対応
- [ ] ローディング・トランジション

### Phase 6: テスト・調整（1週間）
- [ ] バランス調整
- [ ] バグ修正
- [ ] パフォーマンス最適化
- [ ] ポートフォリオ用ブラッシュアップ

---

## 📝 補足事項

### 実装優先度
1. **高**: コア戦闘システム、部隊配置、基本AI
2. **中**: 特殊攻撃、育成システム、エフェクト
3. **低**: 高度なAI、細かいアニメーション

### パフォーマンス考慮
- セル数が増えるため、仮想化を検討（大きいグリッド時）
- アニメーションはCSS Transformを優先
- 状態更新は最小限に抑える

### 今後の拡張性
- マルチプレイ機能（WebSocket）
- 新キャラクター追加
- 新部隊追加
- 難易度設定

---

## ✅ チェックリスト

### ゲームバランス確認項目
- [ ] 初期敵（運び屋A）が適切な難易度か
- [ ] レベルアップコストが適切か
- [ ] 部隊価格が適切か
- [ ] 特殊攻撃のSPコストが適切か
- [ ] 敵のステータスが段階的に強くなっているか

### テストケース
- [ ] 7×7グリッドでの配置・戦闘
- [ ] 12×12グリッドでの配置・戦闘
- [ ] 全部隊配置パターン
- [ ] 全特殊攻撃の動作
- [ ] 全敵AIの動作
- [ ] セーブ/ロード機能
- [ ] エッジケース（HP0、SP不足など）

---

## 📄 バージョン管理

**文書バージョン**: 1.0  
**作成日**: 2025年11月11日  
**最終更新**: 2025年11月11日  
**作成者**: Nakako

---

## 📞 問い合わせ・変更履歴

### 変更履歴
| 日付 | バージョン | 変更内容 |
|------|-----------|---------|
| 2025/11/11 | 1.0 | 初版作成 |

---

**以上、要件定義書完成**
